(function(t){function e(e){for(var r,i,a=e[0],c=e[1],l=e[2],h=0,f=[];h<a.length;h++)i=a[h],s[i]&&f.push(s[i][0]),s[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);u&&u(e);while(f.length)f.shift()();return n.push.apply(n,l||[]),o()}function o(){for(var t,e=0;e<n.length;e++){for(var o=n[e],r=!0,a=1;a<o.length;a++){var c=o[a];0!==s[c]&&(r=!1)}r&&(n.splice(e--,1),t=i(i.s=o[0]))}return t}var r={},s={app:0},n=[];function i(e){if(r[e])return r[e].exports;var o=r[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=r,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(o,r,function(e){return t[e]}.bind(null,r));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/gkbot-marathon/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var l=0;l<a.length;l++)e(a[l]);var u=c;n.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"034f":function(t,e,o){"use strict";var r=o("64a9"),s=o.n(r);s.a},"11ad":function(t,e,o){"use strict";var r=o("b680"),s=o.n(r);s.a},2725:function(t,e,o){},"56d7":function(t,e,o){"use strict";o.r(e);o("cadf"),o("551c"),o("f751"),o("097d");var r=o("2b0e"),s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("div",{staticClass:"nav"},[o("span",[t._v(t._s(t.playerName)+"，您好！")]),o("div",{staticClass:"nav-btn-group"},[o("button",{on:{click:t.backToMenu}},[t._v("重新開始")]),o("button",{on:{click:t.showRecords}},[t._v("戰績")]),o("button",{on:{click:function(e){t.showRules=!t.showRules}}},[t._v("規則")])])]),o("div",{staticClass:"menu"},[o("div",{directives:[{name:"show",rawName:"v-show",value:t.showRules,expression:"showRules"}],staticClass:"rules"},[o("h2",[t._v("遊戲規則")]),o("li",[t._v("源源不絕的 GKBOT 將試圖消滅你")]),o("li",[t._v("每場三把決勝負，三戰兩勝")]),o("li",[t._v("每把需抽籤決定比大／比小，再出牌")]),o("li",[t._v("若平手則由系統抽籤決定勝負")]),o("li",[t._v("輸一場就會被 GKBOT 消滅")]),o("li",[t._v("為了捍衛自己的生命，請你加油吧！")]),o("button",{on:{click:function(e){t.showRules=!t.showRules}}},[t._v("關閉")])]),o("div",{directives:[{name:"show",rawName:"v-show",value:t.showingRecords,expression:"showingRecords"}],staticClass:"records"},[o("h2",[t._v("歷史戰績")]),t._l(t.gkBotMarathonHistory,function(e,r){return o("li",{key:r},[t._v(t._s(e.playerName)+"：粉碎 "+t._s(e.record)+" 隻GKBOT")])}),o("div",{staticClass:"btn-group"},[o("button",{on:{click:t.eraseStorage}},[t._v("清除紀錄")]),o("button",{on:{click:t.showRecords}},[t._v("關閉")])])],2),0===t.ifGameOver?o("div",[o("h2",[t._v("《 決戰 GKBOT 馬拉松 》")]),t._m(0),o("EnterPlayerName"),o("div",[o("button",{staticClass:"start-btn",on:{click:t.startGame}},[t._v("開始對決")]),o("div",{staticClass:"btn-group"},[o("button",{staticClass:"records-btn",on:{click:t.showRecords}},[t._v("歷史戰績")]),o("button",{staticClass:"rules-btn",on:{click:function(e){t.showRules=!t.showRules}}},[t._v("遊戲規則")])])])],1):1===t.ifGameOver?o("div",{staticClass:"game"},[o("Game")],1):o("div",{staticClass:"game-over"},[o("GameOver")],1)])])},n=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("p",{staticClass:"content"},[t._v("邪惡的 GK 博士創造出了具有自我意識、且會不斷自我複製的機器人：GKBOT。\n      "),o("br"),o("br"),t._v("GKBOT 判定人類對地球有害，因此會與他們遇到的每一個人類展開賭上性命的對決。奇特的是，他們的對決方式是撲克牌比大小。\n      "),o("br"),o("br"),t._v("\n      快看！前方就有一隻 GKBOT 正朝你靠近，那麼，報上名來吧。")])}],i=(o("8e6e"),o("ac6a"),o("456d"),o("bd86")),a=o("2f62"),c=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("form",[t.ifPlayerNameChange?o("button",{on:{click:t.showInput}},[t._v("更改名稱")]):o("div",[o("span",[t._v("輸入玩家名稱")]),o("input",{domProps:{value:t.playerName},on:{change:t.changePlayerName}})])])])},l=[];function u(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,r)}return o}function h(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?u(o,!0).forEach(function(e){Object(i["a"])(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):u(o).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}var f={name:"EnterPlayerName",data:function(){return{ifPlayerNameChange:!1}},computed:h({},Object(a["b"])({playerName:function(t){return t.playerName}})),methods:{changePlayerName:function(t){t.preventDefault(),this.$store.commit("changePlayerName",t.target.value),this.ifPlayerNameChange=!0},showInput:function(){this.ifPlayerNameChange=!1}}},d=f,p=(o("d637"),o("2877")),m=Object(p["a"])(d,c,l,!1,null,"7fb3c2ea",null),b=m.exports,y=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"game-scene"},[t.ifBotLose?o("div",{staticClass:"refill-container"},[o("h2",[t._v("恭喜你粉碎一隻 GKBOT！")]),t._m(0),o("div",{staticClass:"system-msg"},[o("p",[t._v(t._s(t.refillMsg))])]),o("div",{staticClass:"card-set"},t._l(t.botCard,function(e,r){return o("li",{key:r,on:{click:function(e){return t.refillCard(r)}}},[t._v(t._s(e))])}),0),o("hr"),o("div",{staticClass:"card-set"},t._l(t.playerCard,function(e,r){return o("li",{key:r,on:{click:function(e){return t.throwCardAway(r)}}},[t._v(t._s(e))])}),0),o("button",{on:{click:t.nextEnemy}},[t._v("補充完畢，迎戰下一隻 GKBOT!")])]):o("div",{staticClass:"game-scene"},[o("div",{staticClass:"bot-chat-area"},[o("p",[t._v(t._s(t.botMsg))])]),o("div",{staticClass:"bot-card-area card-set"},t._l(t.botCard,function(t,e){return o("li",{key:e,staticClass:"bot-card-small"})}),0),o("div",{staticClass:"desk card-set"},[o("div",{staticClass:"bot-desk"},t._l(t.botDesk,function(e,r){return o("li",{key:r,staticClass:"flip-card"},[o("div",{staticClass:"flip-card-inner",class:{show:t.showCard}},[o("div",{staticClass:"flip-card-front"}),o("div",{staticClass:"flip-card-back"},[t._v(t._s(e))])])])}),0),o("div",{staticClass:"player-desk card-set"},t._l(t.playerDesk,function(e,r){return o("li",{key:r,on:{click:t.throwCardBack}},[t._v(t._s(e))])}),0)]),o("div",{staticClass:"system-msg"},[o("span",[t._v("第 "+t._s(t.round)+" 把，"+t._s(t.playerWinNum)+" 勝 "+t._s(t.botWinNum)+" 負，")]),1===t.rollResult?o("span",[t._v("這把比大")]):2===t.rollResult?o("span",[t._v("這把比小")]):o("span",[t._v("抽籤來決定這把比大或小")]),o("p",[t._v(t._s(t.systemMsg))])]),o("div",{staticClass:"btn-group"},[t.rolled?o("button",{staticClass:"duel-btn",on:{click:t.duel}},[t._v("開牌")]):o("button",{staticClass:"roll-btn",on:{click:t.rollDice}},[t._v("抽籤")])]),o("div",{staticClass:"player-card-area card-set"},t._l(t.playerCard,function(e,r){return o("li",{key:r,on:{click:function(e){return t.throwCard(r)}}},[t._v(t._s(e))])}),0)])])},v=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"bot-chat-area special"},[o("p",[t._v("可惡的人類，居然用外表令我低估你的實力...我認輸了，你就從我剩餘的牌堆中補充牌吧！補完了就趕快離開，我要自爆了！")])])}];o("55dd");function g(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,r)}return o}function C(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?g(o,!0).forEach(function(e){Object(i["a"])(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):g(o).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}var O={name:"Game",data:function(){return{playerCard:[1,2,3,4,5,6,7],botCard:[1,2,3,4,5,6,7],ifBotLose:!1,rolled:!1,thisRoll:0,rolling:!1,rollResult:0,showCard:!1,playerCardChoosed:"",botCardChoosed:"",playerDesk:[],botDesk:[],round:1,playerWinNum:0,botWinNum:0,refillMsg:"",systemMsg:"",botMsg:""}},computed:C({},Object(a["b"])({ifGameOver:function(t){return t.ifGameOver}})),methods:{systemSay:function(t){this.systemMsg=t;var e=this;setTimeout(function(){e.systemMsg=""},2e3)},throwCard:function(t){this.botChat("throw-card"),0===this.playerDesk.length?(this.playerCardChoosed=this.playerCard[t],this.playerDesk.push(parseInt(this.playerCardChoosed)),this.playerCard.splice(t,1)):this.systemSay("牌桌滿了，別再按了！")},throwCardBack:function(){0!==this.playerDesk.length&&(this.playerCard.push(parseInt(this.playerCardChoosed)),this.smallToBig(),this.playerDesk=[])},rollDice:function(){if(0===this.thisRoll){this.systemSay("抽籤中..."),this.rolling=!0,this.thisRoll=Math.floor(2*Math.random())+1;var t=this;setTimeout(function(){t.rolling=!1},2e3),setTimeout(function(){t.showRollResult()},2e3)}},showRollResult:function(){this.rolled=!0,1===this.thisRoll?this.rollResult=1:2===this.thisRoll&&(this.rollResult=2);var t=this;setTimeout(function(){t.botLogic()},2e3)},botLogic:function(){if(1===this.rollResult){var t=Math.abs(Math.floor(Math.random()*this.botCard.length-1)),e=Math.floor(this.botCard.length/2)-1;this.botCard.length<3?alert("GKBOT牌不夠，不玩了！QQ"):this.botCard[t]>this.botCard[e]?this.botThrowCard(t):this.botLogic()}else if(2===this.rollResult){var o=Math.abs(Math.floor(Math.random()*this.botCard.length-1)),r=Math.floor(this.botCard.length/2)+1;this.botCard.length<3?alert("GKBOT牌不夠，不玩了！QQ"):this.botCard[o]<this.botCard[r]?this.botThrowCard(o):this.botLogic()}},botThrowCard:function(t){this.botCardChoosed=this.botCard[t],this.botDesk.push(parseInt(this.botCardChoosed)),this.botCard.splice(t,1),this.botChat("bot-throw-card")},duel:function(){var t=parseInt(this.playerDesk[0]),e=parseInt(this.botDesk[0]);0!==this.botDesk.length&&0!==this.playerDesk.length?(this.showCard=!0,1===this.rollResult?t>e?this.playerWin():t<e?this.botWin():this.draw():2===this.rollResult&&(t<e?this.playerWin():t>e?this.botWin():this.draw())):this.systemSay("還有人沒出牌呢！")},draw:function(){this.systemSay("平手！正在抽籤定勝負...");var t=this;setTimeout(function(){var e=Math.floor(2*Math.random())+1;1===e?t.playerWin():t.botWin()},4e3)},playerWin:function(){this.botChat("player-win");var t=this;setTimeout(function(){t.systemSay("玩家贏！")},1e3),setTimeout(function(){t.playerWinNum++},2e3),setTimeout(function(){t.clearDesk()},2e3)},botWin:function(){this.botChat("bot-win");var t=this;setTimeout(function(){t.systemSay("機器人贏！")},1e3),setTimeout(function(){t.botWinNum++},2e3),setTimeout(function(){t.clearDesk()},2e3)},nextEnemy:function(){var t=this;setTimeout(function(){t.botCard=[1,2,3,4,5,6,7],t.ifBotLose=!1,t.playerDesk=[],t.botDesk=[],t.rolled=!1,t.thisRoll=0,t.rollResult=0,t.round=1,t.playerWinNum=0,t.botWinNum=0,t.showCard=!1},2e3)},clearDesk:function(){if(2===this.playerWinNum){this.systemSay("2勝，你打敗一隻機器人了！"),this.updateRecord();var t=this;setTimeout(function(){t.ifBotLose=!0},3e3)}else if(2===this.botWinNum){this.systemSay("2敗，你輸了！");var e=this;setTimeout(function(){e.$store.commit("changeGameState",2)},3e3)}else if(0===this.playerCard.length){this.systemSay("沒牌了！你被GKBOT的激光殺死了！");var o=this;setTimeout(function(){o.$store.commit("changeGameState",2)},3e3)}else this.playerDesk=[],this.botDesk=[],this.rolled=!1,this.thisRoll=0,this.rollResult=0,this.round++,this.showCard=!1},updateRecord:function(){this.$store.commit("updateRecord")},refillCard:function(t){7!==this.playerCard.length?(this.refillMsg="",this.playerCardChoosed=this.botCard[t],this.botCard.splice(t,1),this.playerCard.push(parseInt(this.playerCardChoosed)),this.smallToBig()):this.refillMsg="不好意思，GK說牌不能多於七張"},throwCardAway:function(t){3!==this.playerCard.length?(this.refillMsg="",this.playerCardChoosed=this.playerCard[t],this.playerCard.splice(t,1),this.botCard.push(parseInt(this.playerCardChoosed)),this.smallToBig()):this.refillMsg="不好意思，GK說牌不能少於三張"},smallToBig:function(){this.playerCard.sort(function(t,e){return t-e}),this.botCard.sort(function(t,e){return t-e})},botChat:function(t){var e=Math.floor(3*Math.random())+1,o=this;"throw-card"===t?1===e?(setTimeout(function(){o.botMsg="Seriously？你真的打算出那張牌嗎？"},1e3),setTimeout(function(){o.botMsg=""},3e3)):2===e?(setTimeout(function(){o.botMsg="想這麼久就出這張啊？笑死我了"},1e3),setTimeout(function(){o.botMsg=""},3e3)):3===e&&(setTimeout(function(){o.botMsg="zzZ"},1e3),setTimeout(function(){o.botMsg=""},3e3)):"bot-throw-card"===t?1===e?(setTimeout(function(){o.botMsg="hmm...這張好了，不不不，還是這張吧"},1e3),setTimeout(function(){o.botMsg=""},3e3)):2===e?(setTimeout(function(){o.botMsg="誰說比大的時候我只會出比較大的？"},1e3),setTimeout(function(){o.botMsg=""},3e3)):3===e&&(setTimeout(function(){o.botMsg="就決定是這張了！我可是有放水喔"},1e3),setTimeout(function(){o.botMsg=""},3e3)):"player-win"===t?1===e?(setTimeout(function(){o.botMsg="欸！你是不是出老千啊"},1e3),setTimeout(function(){o.botMsg=""},3e3)):2===e?(setTimeout(function(){o.botMsg="逼波逼波逼波...GK 博士說你出千"},1e3),setTimeout(function(){o.botMsg=""},3e3)):3===e&&(setTimeout(function(){o.botMsg="我想補充一點機油了..."},1e3),setTimeout(function(){o.botMsg=""},3e3)):"bot-win"===t&&(1===e?(setTimeout(function(){o.botMsg="TOLD YOU!!!!"},1e3),setTimeout(function(){o.botMsg=""},3e3)):2===e?(setTimeout(function(){o.botMsg="嗄嗄嗄！人類好弱！太弱啦！"},1e3),setTimeout(function(){o.botMsg=""},3e3)):3===e&&(setTimeout(function(){o.botMsg="你接下來會說「這怎麼可能？」說吧！"},1e3),setTimeout(function(){o.botMsg=""},3e3)))}}},_=O,w=(o("11ad"),Object(p["a"])(_,y,v,!1,null,"2c440310",null)),k=w.exports,M=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"game-over-scene"},[o("h2",[t._v("Game over")]),o("p",[t._v("感謝您的遊玩，若發現任何 bug，請不吝通知邪惡的 GK 博士！")]),o("button",{on:{click:t.backToMenu}},[t._v("回到主畫面")])])},T=[],j={name:"GameOver",methods:{backToMenu:function(){this.$store.commit("changeGameState",0)}}},R=j,P=(o("7493"),Object(p["a"])(R,M,T,!1,null,"6368f773",null)),G=P.exports;function S(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,r)}return o}function N(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?S(o,!0).forEach(function(e){Object(i["a"])(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):S(o).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}var D={data:function(){return{showRules:!1,showingRecords:!1}},components:{EnterPlayerName:b,Game:k,GameOver:G},methods:{startGame:function(){this.$store.commit("changeGameState",1)},backToMenu:function(){this.$store.commit("changeGameState",0)},showRecords:function(){this.showingRecords=!this.showingRecords,this.$store.commit("getHistory")},eraseStorage:function(){this.$store.commit("eraseStorage")}},computed:N({},Object(a["b"])({ifGameOver:function(t){return t.ifGameOver},playerName:function(t){return t.playerName},record:function(t){return t.record},gkBotMarathonHistory:function(t){return t.gkBotMarathonHistory}}))},B=D,W=(o("034f"),Object(p["a"])(B,s,n,!1,null,null,null)),E=W.exports;r["a"].use(a["a"]);var K=new a["a"].Store({state:{ifGameOver:0,gkBotMarathonHistory:[],playerName:"運氣不好的路人",record:0},mutations:{changeGameState:function(t,e){t.ifGameOver=e},changePlayerName:function(t,e){t.playerName=e},getHistory:function(t){t.gkBotMarathonHistory=JSON.parse(localStorage.getItem("gkBotMarathonHistory"))},updateRecord:function(t){var e=JSON.parse(localStorage.getItem("gkBotMarathonHistory")),o={playerName:t.playerName,record:0};if(null===e||e===[])o.record++,e=[],e.push(o);else for(var r=0;r<e.length;r++){if(t.playerName!==e[r].playerName){o.record++,e.push(o);break}e[r].record++}localStorage.setItem("gkBotMarathonHistory",JSON.stringify(e))},eraseStorage:function(){localStorage.removeItem("gkBotMarathonHistory")}}});r["a"].config.productionTip=!1,new r["a"]({store:K,render:function(t){return t(E)}}).$mount("#app")},"64a9":function(t,e,o){},7493:function(t,e,o){"use strict";var r=o("74e3"),s=o.n(r);s.a},"74e3":function(t,e,o){},b680:function(t,e,o){},d637:function(t,e,o){"use strict";var r=o("2725"),s=o.n(r);s.a}});
//# sourceMappingURL=app.4055ad3e.js.map